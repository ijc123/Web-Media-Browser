<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:my="/WEB-INF/mytags">
<h:head>
<script language="JavaScript">
	
	function setDefaultRenameText() {
		
		var inputElem = document.getElementById('uploadFile');
		var renameElem = document.getElementById('renameFile');

		var fileName = inputElem.value;
		var index = fileName.lastIndexOf("/");
		if(index == -1)  index = fileName.lastIndexOf("\\");

		if(index != -1) {

			fileName = fileName.substring(index + 1, fileName.length);
				
		}  

		renameElem.value = fileName;

	}
</script>
</h:head>
<body>
<h:form method="post" enctype="multipart/form-data" action="">
	<fieldset>
	<legend>Add File</legend>
		<div>
			Browse: <input type="file" name="uploadFile"  id="uploadFile" onchange="setDefaultRenameText()"></input>
		</div>
		<div>
			Rename: <input type="text" name="renameFile" id="renameFile"></input>
		</div>
		<div>
			<my:fileSelectOne size="5" root="j:"/>
		</div>
		<div>
			<input type="submit" value="Submit"></input>	
		</div>
	</fieldset>	
</h:form>
</body>
</html>
